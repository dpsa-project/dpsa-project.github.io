<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate provides handlers for common http api behavior."><meta name="keywords" content="rust, rustlang, rust-lang, trillium_api"><title>trillium_api - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-52c5db6f6f352e54.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../trillium_api/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../trillium_api/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate trillium_api</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.2.0-rc.3</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">trillium_api</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/trillium_api/lib.rs.html#1-59">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate provides handlers for common http api behavior.</p>
<p>Eventually, some of this crate may move into the trillium crate, but
for now it exists separately for ease of iteration. Expect more
breaking changes in this crate then in the trillium crate.</p>
<h3 id="formats-supported"><a href="#formats-supported">Formats supported:</a></h3>
<p>Currently, this crate supports <em>receiving</em> <code>application/json</code> and
<code>application/x-form-www-urlencoded</code> by default. To disable
<code>application/x-form-www-urlencoded</code> support, use <code>default-features = false</code>.</p>
<p>This crate currently only supports sending json responses, but may
eventually add <code>Accepts</code> negotiation and further outbound response
content types.</p>
<p>The <a href="trait.ApiConnExt.html" title="ApiConnExt"><code>ApiConnExt</code></a> extension trait and <a href="struct.ApiHandler.html" title="ApiHandler"><code>ApiHandler</code></a> can be used
independently or in combination.</p>
<p><a href="struct.ApiHandler.html" title="ApiHandler"><code>ApiHandler</code></a> provides an easy way to deserialize a single type from
the request body. ApiHandler does not handle serializing responses, so
is best used in conjunction with the <a href="struct.Json.html" title="Json"><code>Json</code></a> handler that this crate
provides.</p>
<p>If <a href="struct.ApiHandler.html" title="ApiHandler"><code>ApiHandler</code></a> encounters an error of any sort before the
user-provided logic is executed, it will put an <a href="enum.Error.html" title="Error"><code>Error</code></a> into the
conn’s state. A default error handler is provided.</p>
</div></details><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.json.html" title="trillium_api::json macro">json</a></div><div class="item-right docblock-short">Construct a <code>serde_json::Value</code> from a JSON literal.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ApiHandler.html" title="trillium_api::ApiHandler struct">ApiHandler</a></div><div class="item-right docblock-short">This handler provides the capacity to extract various components
of a conn such as deserializing a body, and supports returning
handlers that will be called on the returned conn.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Body.html" title="trillium_api::Body struct">Body</a></div><div class="item-right docblock-short">Body extractor</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Halt.html" title="trillium_api::Halt struct">Halt</a></div><div class="item-right docblock-short">a struct that halts the Conn handler sequence. see <a href="../trillium/conn/struct.Conn.html#method.halt" title="Conn::halt"><code>Conn::halt</code></a>
for more.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Json.html" title="trillium_api::Json struct">Json</a></div><div class="item-right docblock-short">A newtype wrapper struct for any <a href="../serde/ser/trait.Serialize.html" title="serde::Serialize"><code>serde::Serialize</code></a> type. Note
that this currently must own the serializable type.
Body extractor</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.State.html" title="trillium_api::State struct">State</a></div><div class="item-right docblock-short">State extractor</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="trillium_api::Error enum">Error</a></div><div class="item-right docblock-short">A serde-serializable error</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Value.html" title="trillium_api::Value enum">Value</a></div><div class="item-right docblock-short">Represents any valid JSON value.</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ApiConnExt.html" title="trillium_api::ApiConnExt trait">ApiConnExt</a></div><div class="item-right docblock-short">Extension trait that adds api methods to <a href="../trillium/conn/struct.Conn.html" title="trillium::Conn"><code>trillium::Conn</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.FromConn.html" title="trillium_api::FromConn trait">FromConn</a></div><div class="item-right docblock-short">A trait to extract content from <a href="../trillium/conn/struct.Conn.html" title="Conn"><code>Conn</code></a>s to be used as the second
argument to an api handler. Implement this for your types.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.api.html" title="trillium_api::api fn">api</a></div><div class="item-right docblock-short">constructs a new [<code>ApiFromConnHandler</code>] from the provided
<code>async fn(&amp;mut conn, FromConn) -&gt; impl Handler</code></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="trillium_api" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (4c83bd03a 2023-01-19)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-ab1d4ae2ec52020e.css" ></div></body></html>