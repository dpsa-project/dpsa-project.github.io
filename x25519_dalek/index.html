<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="x25519-dalek    "><meta name="keywords" content="rust, rustlang, rust-lang, x25519_dalek"><title>x25519_dalek - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-52c5db6f6f352e54.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../x25519_dalek/index.html"><img src="https://doc.dalek.rs/assets/dalek-logo-clear.png" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../x25519_dalek/index.html">
                <img src="https://doc.dalek.rs/assets/dalek-logo-clear.png" alt="logo"></a><h2 class="location"><a href="#">Crate x25519_dalek</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 2.0.0-pre.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">x25519_dalek</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/x25519_dalek/lib.rs.html#17-166">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="x25519-dalek----"><a href="#x25519-dalek----">x25519-dalek  <img src="https://img.shields.io/crates/v/x25519-dalek.svg" alt="" /> <img src="https://docs.rs/x25519-dalek/badge.svg" alt="" /> <img src="https://travis-ci.org/dalek-cryptography/x25519-dalek.svg?branch=master" alt="" /></a></h2>
<p>A pure-Rust implementation of x25519 elliptic curve Diffie-Hellman key exchange,
with curve operations provided by
<a href="https://github.com/dalek-cryptography/curve25519-dalek">curve25519-dalek</a>.</p>
<p>This crate provides two levels of API: a bare byte-oriented <code>x25519</code>
function which matches the function specified in <a href="https://tools.ietf.org/html/rfc7748">RFC7748</a>, as
well as a higher-level Rust API for static and ephemeral Diffie-Hellman.</p>
<h3 id="examples"><a href="#examples">Examples</a></h3><a href="https://shop.bubblesort.io">
<img
  style="float: right; width: auto; height: 300px;"
  src="https://raw.githubusercontent.com/dalek-cryptography/x25519-dalek/master/res/bubblesort-zines-secret-messages-cover.jpeg"/>
</a>
<p>Alice and Bob are two adorable kittens who have lost their mittens, and they
wish to be able to send secret messages to each other to coordinate finding
them, otherwise—if their caretaker cat finds out—they will surely be called
naughty kittens and be given no pie!</p>
<p>But the two kittens are quite clever.  Even though their paws are still too big
and the rest of them is 90% fuzziness, these clever kittens have been studying
up on modern public key cryptography and have learned a nifty trick called
<em>elliptic curve Diffie-Hellman key exchange</em>.  With the right incantations, the
kittens will be able to secretly organise to find their mittens, and then spend
the rest of the afternoon nomming some yummy pie!</p>
<p>First, Alice uses <code>EphemeralSecret::new()</code> and then
<code>PublicKey::from()</code> to produce her secret and public keys:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>rand_core::OsRng;
<span class="kw">use </span>x25519_dalek::{EphemeralSecret, PublicKey};

<span class="kw">let </span>alice_secret = EphemeralSecret::new(OsRng);
<span class="kw">let </span>alice_public = PublicKey::from(<span class="kw-2">&amp;</span>alice_secret);</code></pre></div>
<p>Bob does the same:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>bob_secret = EphemeralSecret::new(OsRng);
<span class="kw">let </span>bob_public = PublicKey::from(<span class="kw-2">&amp;</span>bob_secret);</code></pre></div>
<p>Alice meows across the room, telling <code>alice_public</code> to Bob, and Bob
loudly meows <code>bob_public</code> back to Alice.  Alice now computes her
shared secret with Bob by doing:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>alice_shared_secret = alice_secret.diffie_hellman(<span class="kw-2">&amp;</span>bob_public);</code></pre></div>
<p>Similarly, Bob computes a shared secret by doing:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>bob_shared_secret = bob_secret.diffie_hellman(<span class="kw-2">&amp;</span>alice_public);</code></pre></div>
<p>These secrets are the same:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="macro">assert_eq!</span>(alice_shared_secret.as_bytes(), bob_shared_secret.as_bytes());</code></pre></div>
<p>Voilà!  Alice and Bob can now use their shared secret to encrypt their
meows, for example, by using it to generate a key and nonce for an
authenticated-encryption cipher.</p>
<p>This example used the ephemeral DH API, which ensures that secret keys
cannot be reused; Alice and Bob could instead use the static DH API
and load a long-term secret key.</p>
<h2 id="installation"><a href="#installation">Installation</a></h2>
<p>To install, add the following to your project’s <code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
x25519-dalek = &quot;2.0.0-pre.0&quot;
</code></pre></div><h2 id="msrv"><a href="#msrv">MSRV</a></h2>
<p>Current MSRV is 1.41 for production builds, and 1.48 for running tests.</p>
<h2 id="documentation"><a href="#documentation">Documentation</a></h2>
<p>Documentation is available <a href="https://docs.rs/x25519-dalek">here</a>.</p>
<h2 id="note"><a href="#note">Note</a></h2>
<p>This code matches the <a href="https://tools.ietf.org/html/rfc7748">RFC7748</a> test vectors.
The elliptic curve
operations are provided by <code>curve25519-dalek</code>, which makes a best-effort
attempt to prevent software side-channels.</p>
<p>“Secret Messages” cover image and <a href="https://shop.bubblesort.io/products/secret-messages-zine">zine</a>
copyright © Amy Wibowo (<a href="https://twitter.com/sailorhg">@sailorhg</a>)</p>
<h2 id="see-also"><a href="#see-also">See also</a></h2>
<ul>
<li><a href="https://github.com/RustCrypto/AEADs/tree/master/crypto_box">crypto_box</a>: pure Rust public-key authenticated encryption compatible with
the NaCl family of encryption libraries (libsodium, TweetNaCl) which uses
<code>x25519-dalek</code> for key agreement</li>
</ul>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.EphemeralSecret.html" title="x25519_dalek::EphemeralSecret struct">EphemeralSecret</a></div><div class="item-right docblock-short">A short-lived Diffie-Hellman secret key that can only be used to compute a single
<a href="struct.SharedSecret.html" title="SharedSecret"><code>SharedSecret</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PublicKey.html" title="x25519_dalek::PublicKey struct">PublicKey</a></div><div class="item-right docblock-short">A Diffie-Hellman public key, corresponding to an <a href="struct.EphemeralSecret.html" title="EphemeralSecret"><code>EphemeralSecret</code></a> or
<a href="struct.StaticSecret.html" title="StaticSecret"><code>StaticSecret</code></a> key.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SharedSecret.html" title="x25519_dalek::SharedSecret struct">SharedSecret</a></div><div class="item-right docblock-short">The result of a Diffie-Hellman key exchange.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StaticSecret.html" title="x25519_dalek::StaticSecret struct">StaticSecret</a></div><div class="item-right docblock-short">A Diffie-Hellman secret key that can be used to compute multiple <a href="struct.SharedSecret.html" title="SharedSecret"><code>SharedSecret</code></a>s.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.X25519_BASEPOINT_BYTES.html" title="x25519_dalek::X25519_BASEPOINT_BYTES constant">X25519_BASEPOINT_BYTES</a></div><div class="item-right docblock-short">The X25519 basepoint, for use with the bare, byte-oriented x25519
function.  This is provided for people who cannot use the typed
DH API for some reason.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.x25519.html" title="x25519_dalek::x25519 fn">x25519</a></div><div class="item-right docblock-short">The bare, byte-oriented x25519 function, exactly as specified in RFC7748.</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="x25519_dalek" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (4c83bd03a 2023-01-19)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-ab1d4ae2ec52020e.css" ></div></body></html>